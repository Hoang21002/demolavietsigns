import{c as B,q as D,a as I,_ as H}from"./jrZRURmu.js";import{N as M}from"./CqkD7KMq.js";import{L as V}from"./DQ_VhB-G.js";import{l as $,d as l,v as E,m as h,P as u,Q as x,a3 as T,Z as a,u as i,I as G,a0 as P,Y as R,a2 as j,L as d,$ as Q,n as _}from"./B8xjQDrD.js";const z=["id","data-cms-bind"],F={class:"container"},O={class:"flex flex-col items-center justify-center gap-4"},U=["innerHTML"],Y=["innerHTML"],Z={key:0,class:"flex flex-col gap-2"},J={class:"grid lg:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-[12px] mt-6"},K=["onClick"],W=["src","alt"],X={class:"flex flex-col w-full justify-center items-center"},ee=12,te=$({__name:"SectionTest",props:{dataBinding:{},block:{}},setup(se){const C=l(1);l(null);const v=V.map(e=>({name:e.label,value:e.value,enable:e.isDefault})),m=B(),n=l(),g=l(),c=l("/"),f=async e=>{e.slug&&v.some(s=>s.value===e.slug[0])&&v?c.value=`/${e.slug[0]}/`:c.value="/",g.value=await D(`${c.value}gallery`).where({_path:`${c.value}gallery`}).sort({createdAt:-1}).findOne(),n.value=g.value.content_blocks.find(s=>s._block_name==="gallery/hero")};f(m.params),E(()=>m.params,()=>{f(m.params)},{deep:!0});const r=l("all"),L=()=>{var e,s;return r.value==="all"?((e=n.value)==null?void 0:e.list.map(t=>t.listImg).flat())||[]:((s=n.value)==null?void 0:s.list.map(t=>t.listImg)[r.value])||[]},w=h(()=>L().slice(0,ee*C.value)),p=l(!1),b=l(),y=l(0),S=h(()=>{var e,s;return r.value==="all"?(e=n.value)==null?void 0:e.list.map(t=>t.listImg).flat().map(t=>t.image):(s=n.value)==null?void 0:s.list.map(t=>t.listImg)[r.value].map(t=>t.image)}),N=e=>{y.value=e,p.value=!0,_(()=>{const s=document.querySelector(".btn__close");s.style.display="none"}),setTimeout(()=>{_(()=>{const s=document.querySelector(".vel-img-wrapper"),t=document.querySelector(".btn__close"),o=document.querySelector(".btn__close svg");t&&(t==null||t.classList.add("btn-close"),t.style.display="block",o==null||o.classList.add("btn-image")),s==null||s.appendChild(t),b.value=t})},400)},q=()=>{setTimeout(()=>{_(()=>{const e=document.querySelector(".vel-img-wrapper");e==null||e.appendChild(b.value)})},400)},A=()=>p.value=!1;return(e,s)=>{const t=I;return e.block.status?(d(),u("section",{key:0,id:e.block.id,"data-cms-bind":e.dataBinding,style:j({backgroundColor:e.block.background_color}),class:"section_gallery py-[20px]"},[T(i(M),{"move-disabled":!0,visible:i(p),imgs:i(S),index:i(y),onHide:A,onClick:q},null,8,["visible","imgs","index"]),a("div",F,[a("div",O,[a("h2",{class:"custom_title ckeditor-custom",innerHTML:e.block.title},null,8,U),a("div",{class:"sub_title ckeditor-custom",innerHTML:e.block.sub_title},null,8,Y),s[0]||(s[0]=a("span",{class:"h-[8px] bg-main w-[100px]"},null,-1))]),e.block.layout==="grid"?(d(),u("div",Z,[a("div",J,[(d(!0),u(G,null,P(i(w),(o,k)=>(d(),u("div",{key:k,onClick:le=>N(k),class:"cursor-pointer aspect-[1/1] hover_transform_item"},[a("img",{src:o.image,alt:o.alt_image,class:"object-cover w-full h-full"},null,8,W)],8,K))),128))]),a("div",X,[T(t,{to:"/gallery",class:"view-more-button"},{default:R(()=>s[1]||(s[1]=[Q(" View More ")])),_:1})])])):x("",!0)])],12,z)):x("",!0)}}}),ie=H(te,[["__scopeId","data-v-c1541575"]]);export{ie as default};
