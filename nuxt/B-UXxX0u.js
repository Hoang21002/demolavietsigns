import{_ as B}from"./BiIFtyum.js";import{q as P,a as L,_ as I}from"./jrZRURmu.js";import{l as V,d as E,m as c,v as T,E as A,P as b,Q as M,Z as t,X as i,a3 as d,Y as r,a2 as N,u,aa as q,L as p,I as $,a0 as D,J as F,ac as H,ad as O,ae as U,ab as z}from"./B8xjQDrD.js";import{c as J}from"./Bz--dEus.js";import{u as Q}from"./QQcDduPH.js";import{u as X}from"./CCf7Yo_G.js";const Y={class:"container space-y-12"},Z={class:"text-center text-xs text-white font-bold tracking-[1px] uppercase mb-2"},j=["innerHTML"],G={class:"w-full container"},K={class:"text-center overflow-hidden rounded-2xl"},R=["src","alt"],W={class:"text-center"},ee={class:"text-white font-bold"},te={class:"text-center"},oe={class:"text-sm text-[#aaaaaa] font-bold"},se=V({__name:"SectionCategory",props:{block:{}},setup(l){const f=[H,O,U],g=e=>{h.value=e},h=E(null),v=Q(),{data:_}=X("contentBlocks",async()=>await P("/shop").where({_path:"/shop"}).sort({createdAt:-1}).findOne()),x=c(()=>{var e;return(e=_.value)==null?void 0:e.content_blocks.find(o=>o._block_name==="ProductCategory"&&o.status)}),k=c(()=>{var e;return((e=x.value)==null?void 0:e.list_category)||[]}),w=c(()=>{var e;return(e=_.value)==null?void 0:e.content_blocks.filter(o=>o._block_name==="ProductCard"&&o.status)}),m=c(()=>k.value.map(e=>{const o=w.value.filter(s=>s.category===e.title).length;return{...e,count:o}}));T(m,e=>{v.UpdateListCategoryStore(e)},{deep:!0,immediate:!0});const y=c(()=>l.block.background_image?{background:`url(${l.block.background_image}) no-repeat center / cover`}:{background:l.block.background_color});return A(()=>{const e=new IntersectionObserver(s=>{s.forEach(n=>{n.isIntersecting?n.target.classList.add("visible"):n.target.classList.remove("visible")})},{threshold:0,rootMargin:"0px 0px 300px 0px"});document.querySelectorAll(".animation_rotate_first").forEach(s=>{e.observe(s)})}),(e,o)=>{const s=B,n=L,C=z,S=q;return e.block.status?(p(),b("section",{key:0,style:N(u(y)),class:"w-full pt-20 pb-12"},[t("div",Y,[t("div",null,[t("p",Z,i(e.block.label),1),t("div",{class:"text-4xl text-center font-extrabold text-white",innerHTML:e.block.title},null,8,j)]),t("div",G,[d(S,{"slides-per-view":2,onSwiper:g,class:"",spaceBetween:24,modules:f,breakpoints:{640:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24},1280:{slidesPerView:5,spaceBetween:24}}},{default:r(()=>[(p(!0),b($,null,D(u(m),a=>(p(),F(C,{key:a,class:""},{default:r(()=>[d(n,{class:"card--hover",to:`/shop/category/${("convertText"in e?e.convertText:u(J))(a.title)}`},{default:r(()=>[d(s,{class:"border-none !shadow-none !bg-transparent !divide-y-0",ui:{body:{padding:" px-0 sm:!px-0 sm:!py-1 py-1"},footer:{padding:"px-4 sm:!px-4 sm:!py-1 py-1"},ring:" !ring-0"},variant:"subtle"},{footer:r(()=>[t("div",W,[t("h3",ee,i(a.title),1)]),t("div",te,[t("p",oe,i(a.count)+" Products",1)])]),default:r(()=>[t("div",K,[t("img",{class:"w-full image",src:a.image,alt:a.alt},null,8,R)])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])])],4)):M("",!0)}}}),de=I(se,[["__scopeId","data-v-ab09809c"]]);export{de as default};
