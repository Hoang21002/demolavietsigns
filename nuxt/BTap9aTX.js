import{_ as C}from"./BiIFtyum.js";import{a as B,q as P,_ as S}from"./jrZRURmu.js";import{l as V,d as I,m as n,v as L,P as p,Q as N,Z as s,a3 as l,Y as a,aa as A,L as d,I as T,a0 as q,J as D,u,X as _,ac as E,ad as F,ae as U,ab as $}from"./B8xjQDrD.js";import{c as J}from"./Bz--dEus.js";import{u as O}from"./QQcDduPH.js";import{u as Q}from"./CCf7Yo_G.js";const X={key:0,class:"py-24"},Y={class:"w-full container"},Z={class:"text-center overflow-hidden rounded-2xl"},j=["src"],z={class:"text-center"},G={class:"text-second font-bold"},H={class:"text-center"},K={class:"text-sm text-[#aaaaaa] font-bold"},M=V({__name:"ProductCategory",props:{block:{}},setup(R){const m=[E,F,U],f=e=>{y.value=e},y=I(null),g=O(),{data:i}=Q("contentBlocks",async()=>await P("/shop").where({_path:"/shop"}).sort({createdAt:-1}).findOne()),w=n(()=>{var e;return(e=i.value)==null?void 0:e.content_blocks.find(t=>t._block_name==="ProductCategory"&&t.status)}),h=n(()=>{var e;return((e=w.value)==null?void 0:e.list_category)||[]}),v=n(()=>{var e;return(e=i.value)==null?void 0:e.content_blocks.filter(t=>t._block_name==="ProductCard"&&t.status)}),c=n(()=>h.value.map(e=>{const t=v.value.filter(r=>r.category===e.title).length;return{...e,count:t}}));return console.log(c),L(c,e=>{g.UpdateListCategoryStore(e)},{deep:!0,immediate:!0}),(e,t)=>{const r=C,x=B,k=$,b=A;return e.block.status?(d(),p("section",X,[s("div",Y,[l(b,{"slides-per-view":2,onSwiper:f,class:"",spaceBetween:24,modules:m,breakpoints:{640:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:3,spaceBetween:24},1280:{slidesPerView:5,spaceBetween:24}}},{default:a(()=>[(d(!0),p(T,null,q(u(c),o=>(d(),D(k,{key:o,class:""},{default:a(()=>[l(x,{class:"card--hover",to:`/shop/category/${("convertText"in e?e.convertText:u(J))(o.title)}`},{default:a(()=>[l(r,{class:"border-none !shadow-none !bg-transparent !divide-y-0",ui:{body:{padding:" px-0 sm:!px-0 sm:!py-1 py-1"},footer:{padding:"px-4 sm:!px-4 sm:!py-1 py-1"},ring:" !ring-0"},variant:"subtle"},{footer:a(()=>[s("div",z,[s("h3",G,_(o.title),1)]),s("div",H,[s("p",K,_(o.count)+" Products",1)])]),default:a(()=>[s("div",Z,[s("img",{class:"w-full image",src:o.image,alt:""},null,8,j)])]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})])])):N("",!0)}}}),ne=S(M,[["__scopeId","data-v-d86254f0"]]);export{ne as default};
