import L from"./DVEko3mM.js";import{l as q,d as i,m as v,v as A,P as w,Q as D,a3 as x,Z as l,u,a2 as b,X as N,Y as k,aa as $,L as _,I as j,a0 as z,J as Q,ab as E,n as h}from"./B8xjQDrD.js";import{L as T}from"./DQ_VhB-G.js";import{c as F,q as J,_ as O}from"./jrZRURmu.js";import{u as R}from"./CCf7Yo_G.js";import"./CqkD7KMq.js";const U={class:"lg:px-0 px-[15px] max-w-[1380px] w-full"},X={class:"custom_title text-center text-[14px] font-medium uppercase tracking-[2.8px] leading-[1] text-[var(--color-text)] mb-[40px]"},Y={class:"item_section_gallery animation_in"},Z={class:"item_image"},H=["src","alt"],K=q({__name:"SectionGallery",props:{block:{}},setup(M){const S=i(),B=e=>{S.value=e},y=T.map(e=>({name:e.label,value:e.value,enable:e.isDefault})),o=F(),p=i("/"),d=e=>e&&y&&y.some(t=>t.value===e[0])?`/${e[0]}/`:"/",{data:C}=R("dataGallery",async()=>{var e;return p.value=d((e=o==null?void 0:o.params)==null?void 0:e.slug),await J(`${p.value}gallery`).where({_path:`${p.value}gallery`}).sort({createdAt:-1}).findOne()}),f=v(()=>{var t,a,n;return[...((n=(a=(t=C.value)==null?void 0:t.content_blocks.find(s=>s._block_name==="gallery/hero"))==null?void 0:a.list_category)==null?void 0:n.map(s=>s.list_image).flat().slice(0,12))||[]].sort((s,r)=>{const c=(s==null?void 0:s.created_at)||0;return((r==null?void 0:r.created_at)||0)-c})}),G=v(()=>{var e;return(e=f.value)==null?void 0:e.map(t=>t.image)});d(o.params),A(()=>o.params,()=>{d(o.params)},{deep:!0});const m=i(-1),g=i(),P=e=>{m.value=e,h(()=>{const t=document.querySelector(".btn-close");t.style.display="none"}),setTimeout(()=>{h(()=>{const t=document.querySelector(".vel-img-wrapper"),a=document.querySelector(".btn-close");a&&(a==null||a.classList.add("btn-close"),a.style.display="block"),t==null||t.appendChild(a),g.value=a})},400)},I=e=>{m.value=e};return(e,t)=>{const a=L,n=E,s=$;return e.block.status?(_(),w("section",{key:0,class:"section_gallery relative z-30 w-full lg:py-[100px] py-[60px] flex flex-col justify-center items-center",style:b({backgroundColor:e.block.background_color})},[x(a,{"value-button":u(g),"data-image":u(G),"index-current":u(m),onClose:I},null,8,["value-button","data-image","index-current"]),l("div",U,[l("h2",X,[l("span",{style:b({backgroundColor:e.block.background_color}),class:"relative z-20 px-[28px]"},N(e.block.title),5)]),x(s,{onSwiper:B,class:"mySwiper w-full h-full",speed:1e3,loop:!0,"space-between":"10",breakpoints:{390:{slidesPerView:1,slidesPerGroup:1},768:{slidesPerView:2,spaceBetween:30,slidesPerGroup:2},1024:{slidesPerView:3,spaceBetween:30,slidesPerGroup:3},1200:{slidesPerView:5,spaceBetween:30,slidesPerGroup:5}}},{default:k(()=>[(_(!0),w(j,null,z(u(f),(r,c)=>(_(),Q(n,{key:c,onClick:V=>P(c),class:"w-full h-full"},{default:k(()=>[l("div",Y,[l("div",Z,[l("img",{src:r.image,alt:r.alt_image,class:"w-full h-full object-cover object-center"},null,8,H)]),t[0]||(t[0]=l("div",{class:"gallery-one__card__hover"},[l("span",{class:"gallery-one__card__icon"})],-1))])]),_:2},1032,["onClick"]))),128))]),_:1})])],4)):D("",!0)}}}),oe=O(K,[["__scopeId","data-v-b4cda35b"]]);export{oe as default};
